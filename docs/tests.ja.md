# テスト仕様

## ログレベル

テスト実行時のログ出力は、以下のレベルで制御されます：

### ログレベルの定義

```typescript
enum LogLevel {
  ERROR = "error", // エラー情報のみ
  WARN = "warn", // 警告情報まで
  INFO = "info", // 基本情報まで
  DEBUG = "debug", // デバッグ情報まで
  TRACE = "trace", // トレース情報まで
}
```

### 各レベルの意図と用途

1. **ERROR ("error")**
   - テストの失敗やエラーに関する重要な情報
   - 例外の詳細やスタックトレース
   - システムの整合性を損なう問題の報告

2. **WARN ("warn")**
   - テストの実行に影響はないが注意が必要な情報
   - 非推奨の機能の使用
   - パフォーマンスに関する警告

3. **INFO ("info")**
   - テストの基本的な実行状況
   - テストケースの開始と終了
   - 重要なアサーションの結果

4. **DEBUG ("debug")**
   - テストの詳細な実行フロー
   - 変数の値や状態の変化
   - 処理の前後でのデータの状態
   - チェックポイントでの詳細情報

5. **TRACE ("trace")**
   - 最も詳細な実行トレース
   - 内部処理の詳細な状態
   - パフォーマンス分析用の情報

### 使用方法

1. 環境変数による設定
   ```bash
   LOG_LEVEL=debug deno test -A --env  # DEBUGレベルで実行
   ```

2. テストコードでの使用例
   ```typescript
   startSection("テストセクション名");
   checkpoint("処理の状態", { value: someValue });
   logObject(testData, "テストデータ");
   endSection("テストセクション名");
   ```

### ログ出力のガイドライン

1. **セクションの区切り**
   - テストケースの開始と終了を明確に
   - 関連する処理をグループ化

2. **チェックポイント**
   - 重要な処理の前後で状態を記録
   - 変数の値やオブジェクトの状態を出力

3. **エラー情報**
   - エラーの発生状況を詳細に記録
   - スタックトレースや関連データを含める

4. **パフォーマンス**
   - ログ出力は必要最小限に
   - 大量のデータは要約して出力
